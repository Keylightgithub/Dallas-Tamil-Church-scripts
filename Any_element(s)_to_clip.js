// Single line bookmarklet:
javascript:(function(w,d){const I='dtc-inspector-ui',H='dtc-hitbox-active',S='data-dtc-style',D='data-dtc-id',C='data-dtc-color',B='dtc-active-btn',SB='dtc-search-bar',AC='dtc-btn-copied',TCB='dtc-top-center-bar';if(d.getElementById(I)){w.dtcInspectorCleaner&&w.dtcInspectorCleaner();return}let E=[];const c2c=t=>{if(navigator.clipboard&&w.isSecureContext){return navigator.clipboard.writeText(t)}else{return new Promise((res,rej)=>{try{const ta=d.createElement('textarea');ta.value=t;ta.style.position='fixed';ta.style.opacity='0';ta.style.left='-9999px';d.body.appendChild(ta);ta.select();ta.focus();d.execCommand('copy');d.body.removeChild(ta);res()}catch(e){rej(e)}})}};const eH=e=>{if(e.key==='Escape'){cl();return}if(e.key==='Enter'){e.preventDefault();const ui=d.getElementById(I);const vB=Array.from(d.querySelectorAll(`#${I} button%60)).filter(b=>b.style.display!=='none');if(vB.length===0)return;const c=vB.map(b=>E[b.getAttribute(D)]?.innerText).filter(txt=>txt&&txt.trim()!=='').join('\n\n');if(c){c2c(c).then(()=>{ui.style.transition='box-shadow .1s ease-in-out';ui.style.boxShadow='0 0 0 3px #a6e22e';setTimeout(()=>ui.style.boxShadow='0 5px 15px rgba(0,0,0,0.5)',400);vB.forEach(b=>{const el=E[b.getAttribute(D)];if(el)pGA(el);b.classList.add(AC);setTimeout(()=>b.classList.remove(AC),500)})}).catch(err=>console.error('DTC: Copy failed',err))}}};const cAA=(el,btn)=>{if(!el)return;const txt=el.innerText;if(!txt.trim())return;c2c(txt).then(()=>{pGA(el);if(btn){btn.classList.add(AC);setTimeout(()=>btn.classList.remove(AC),500)}}).catch(err=>console.error('DTC: Copy failed',err))};const pM=e=>{const t=e.target;if(t.closest('#'+I)||t.closest('#'+TCB)||!t.hasAttribute(D))return;e.preventDefault();e.stopPropagation();const btn=d.querySelector(%60#${I} button[${D}='${t.getAttribute(D)}']%60);cAA(t,btn);return!1};const hM=e=>{const t=e.target;if(!t||t.closest('#'+I)||t.closest('#'+TCB))return;const sb=d.getElementById(SB);const tcb=d.getElementById(TCB);if(t.hasAttribute(D)&&sb){let txt=t.tagName.toLowerCase();if(t.id)txt+=%60#${t.id}%60;if(t.className&&typeof t.className==='string'){const cl=t.className.trim().split(' ').filter(Boolean).join('.');if(cl)txt+=%60.${cl}%60}if(sb.value!==txt){sb.value=txt;tcb.value=txt;const inputEvent=new Event('input',{bubbles:!0});sb.dispatchEvent(inputEvent);tcb.dispatchEvent(inputEvent)}}if(!t.hasAttribute(D))return;hAH();const i=t.getAttribute(D),c=t.getAttribute(C);aH(t,c);const b=d.querySelector(%60#${I} button[${D}='${i}']%60);if(b){b.classList.add(B);if(b.style.display!=='none'){b.scrollIntoView({behavior:'smooth',block:'nearest'})}}};const sF=e=>{const v=e.target.value;const sb=d.getElementById(SB);const tcb=d.getElementById(TCB);if(e.target.id===SB&&tcb.value!==v)tcb.value=v;if(e.target.id===TCB&&sb.value!==v)sb.value=v;const newLength=tcb.value.length;if(newLength!==(w.dtcTcbPrevLength||0)){tcb.style.width=(newLength>0?newLength+0.5:tcb.placeholder.length)+'ch';w.dtcTcbPrevLength=newLength}const lV=v.toLowerCase();d.querySelectorAll(%60#${I} button%60).forEach(b=>{const t=b.title.toLowerCase();b.style.display=t.includes(lV)?'block':'none'})};function cl(){const u=d.getElementById(I);if(u)u.remove();const tcb=d.getElementById(TCB);if(tcb)tcb.remove();const s=d.getElementById('dtc-inspector-styles');if(s)s.remove();d.body.removeEventListener('mouseover',hM,!0);d.body.removeEventListener('click',pM,!0);d.removeEventListener('keydown',eH,!0);E.forEach(e=>{rmH(e);e.removeAttribute(D);e.removeAttribute(C)});delete w.dtcInspectorCleaner;delete w.dtcTcbPrevLength}function iAS(){const id='dtc-inspector-styles';if(d.getElementById(id))return;const s=d.createElement('style');s.id=id;s.textContent=%60@keyframes dtc-glow-effect{0%{opacity:.8}100%{opacity:0;box-shadow:0 0 40px 15px var(--dtc-glow-color,#fff)}}.dtc-glow-animation{position:absolute;pointer-events:none;z-index:999999;border-radius:5px;animation:dtc-glow-effect .8s ease-out forwards}@keyframes dtc-btn-flash{0%,50%{background-color:#a6e22e!important;color:#000!important}100%{background-color:#333!important;color:#fff!important}}.${AC}{animation:dtc-btn-flash .5s ease-out}#${I} button:hover,#${I} .${B}{background-color:#5a5a5a!important;border-left:3px solid var(--dtc-btn-color, #fff)!important;}#${SB},#${TCB}{background:rgba(25,25,25,0.85);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:1px solid #555;color:#fff;border-radius:4px;font:13px sans-serif;}#${SB}{width:100%;box-sizing:border-box;padding:8px;margin-bottom:4px;}#${TCB}{position:fixed;top:10px;left:50%;transform:translateX(-50%);z-index:1000001;padding:8px;text-align:center;}%60;d.head.appendChild(s)}function pGA(el){if(!el)return;const r=el.getBoundingClientRect(),g=d.createElement('div');g.className='dtc-glow-animation';const c=el.getAttribute(C)||'rgba(255,255,255,0.8)';g.style.cssText=%60left:${r.left+w.scrollX}px;top:${r.top+w.scrollY}px;width:${r.width}px;height:${r.height}px;--dtc-glow-color:${c};box-shadow:0 0 20px 8px ${c};%60;d.body.appendChild(g);setTimeout(()=>g.remove(),800)}function rC(){return%60hsla(${~~(Math.random()*360)},100%,70%,0.8)%60}function aH(el,c){if(!el)return;if(!el.hasAttribute(S)){const s={b:el.style.border,o:el.style.outline,x:el.style.boxShadow};el.setAttribute(S,JSON.stringify(s))}el.style.border=%602px solid ${c}%60;el.style.outline=%601px dashed #fff%60;el.style.boxShadow=%600 0 8px ${c}%60;el.classList.add(H)}function rmH(el){if(!el||!el.hasAttribute(S))return;const s=JSON.parse(el.getAttribute(S));el.style.border=s.b;el.style.outline=s.o;el.style.boxShadow=s.x;el.removeAttribute(S);el.classList.remove(H)}function hAH(){d.querySelectorAll('.'+H).forEach(e=>rmH(e));d.querySelectorAll('#'+I+' .'+B).forEach(b=>b.classList.remove(B))}function cSUI(){const ui=d.createElement('div');ui.id=I;ui.style.cssText='position:fixed;top:10px;right:10px;z-index:1000000;background:rgba(25,25,25,0.85);color:#fff;padding:10px;border-radius:8px;font:12px sans-serif;box-shadow:0 5px 15px rgba(0,0,0,0.5);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);max-width:280px;max-height:calc(100vh - 20px);overflow-y:auto;';const t=d.createElement('div');t.style.cssText='font-size:14px;font-weight:bold;margin-bottom:10px;padding-bottom:5px;border-bottom:1px solid #555;';t.innerHTML='Element Inspector <span style="font-size:10px;font-weight:normal;color:#ccc;">(Esc to close)</span>';ui.appendChild(t);const sb=d.createElement('input');sb.id=SB;sb.type='text';sb.placeholder='Search or hover...';sb.addEventListener('input',sF);ui.appendChild(sb);const n=d.createElement('div');n.style.cssText='font-size:12px;color:#ccc;margin-top:-2px;margin-bottom:8px;text-align:right;';n.innerHTML='copy all filtered: <b style="color:#a6e22e;letter-spacing:1px;">enter</b>';ui.appendChild(n);const els=Array.from(d.querySelectorAll('body *')).filter(e=>(e.offsetWidth>0||e.offsetHeight>0)&&w.getComputedStyle(e).visibility!=='hidden');E=els;els.forEach((el,i)=>{const c=rC();el.setAttribute(D,i);el.setAttribute(C,c);const b=d.createElement('button');b.setAttribute(D,i);b.style.cssText=%60display:block;width:100%;background:#333;color:#fff;border:0;border-left:3px solid transparent;padding:5px 8px;margin:2px 0;border-radius:3px;cursor:pointer;text-align:left;font:11px/1.4 monospace;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:background .2s;--dtc-btn-color:${c};%60;let txt=el.tagName.toLowerCase();if(el.id)txt+=%60<span style="color:#66d9ef;">#${el.id}</span>%60;if(el.className&&typeof el.className=='string')txt+=%60<span style="color:#a6e22e;">.${el.className.trim().split(' ').join('.')}</span>%60;b.innerHTML=txt;b.title=el.tagName.toLowerCase()+(el.id?%60#${el.id}%60:'')+(el.className&&typeof el.className=='string'?%60.${el.className.trim().split(' ').join('.')}%60:'');b.addEventListener('mouseover',()=>{hAH();aH(el,c);b.classList.add(B);el.scrollIntoView({behavior:'smooth',block:'center'})});b.addEventListener('click',()=>{cAA(el,b)});ui.appendChild(b)});d.body.appendChild(ui);const tcb=d.createElement('input');tcb.id=TCB;tcb.type='text';tcb.placeholder='Search...';tcb.style.width=tcb.placeholder.length+'ch';w.dtcTcbPrevLength=0;tcb.addEventListener('input',sF);tcb.addEventListener('keydown',eH);tcb.addEventListener('blur',()=>setTimeout(()=>tcb.focus(),0));d.body.appendChild(tcb);tcb.focus()}iAS();cSUI();d.body.addEventListener('mouseover',hM,!0);d.body.addEventListener('click',pM,!0);d.addEventListener('keydown',eH,!0);w.dtcInspectorCleaner=cl;})(window,document)

// Multi-line bookmarklet:
